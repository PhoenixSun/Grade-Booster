<!DOCTYPE html>
<html lang="en">
   <head>
      <!-- Required meta tags -->
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
      <!-- Bootstrap CSS -->
      <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
      <title>Get S++: Your Grade Booster!</title>
      <!-- Bootstrap core CSS -->
      <!-- Custom styles for this template -->
      <link href="../static/stylesheets/css/boot.css" rel="stylesheet">
   </head>
   <body>
      {% set active_page = pageType | default('index') -%}

      <div class="container">
         <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <a class="navbar-brand" href="/">Get S+</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
               <ul class="navbar-nav mr-auto">
                  <li class="nav-item {% if 'index' == active_page %} active {% endif %}" >
                     <a class="nav-link" href="/">Home <span class="sr-only">(current)</span></a>
                  </li>
                  <li class="nav-item{% if 'explore' == active_page %} active {% endif %}" >
                     <a class="nav-link"  href="/explore" {% if id == active_page %} class="active"{% endif %} >Explore</a>
                  </li>
                  <li class="nav-item dropdown">
                     <a class="nav-link dropdown-toggle {% if 'account' == active_page %} active {% endif %}" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"  >
                        My Account
                        {% if 'user' in session %}
                        : {{ session['user'] }}
                        {% endif %}
                     </a>
                     <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                        {% if 'user' in session %}
                        <a class="dropdown-item" href="/profile">Profile</a>
                        <a class="dropdown-item" href="/fav_course">Fav Courses</a>
                        <a class="dropdown-item" href="/signOut">Sign Out</a>
                        {% else %}
                        <a class="dropdown-item" href="/signIn">Sign In</a>
                        {% endif %}
                        <div class="dropdown-divider"></div>
                        <a class="dropdown-item" href="#">Whatever</a>
                     </div>
                  </li>
<!--                   <li>
                    <a class="nav-link" href="#signUp" data-toggle="modal" role="button" data-target="#signUpModal">Login</a>
                  </li> -->
               </ul>
               <form class="form-inline my-2 my-lg-0" method="post" action='/search'>
                  <input class="form-control mr-sm-2" name="q" type="search" placeholder="Search" aria-label="Search" id="autocomplete">
                  <button class="btn btn-outline-info my-2 my-sm-0" type="submit" >Search</button>
               </form>
            </div>
         </nav>
         <!-- Main Paragraph  -->
         {% if pageType != "index" %}

         {% block body %}
         {% endblock %}

         {% else %}
         <div class="jumbotron">
            <h1 style="color:#17a2b8;">Grade Booster</h1>
            <p class="lead">Help student get A++! We display the grade distribution and relevant statistics for each course and instructor at UIUC. Features may include easy-comparisons of several courses you choose, fancy visualization, and discussion room. This saves your GPA. </p>
            <p><a class="btn btn-lg btn-outline-info" href="#signup" data-toggle="modal" role="button" data-target="#signUpModal">Sign up today</a></p>
         </div>
         <div class="row marketing">
            <div class="col-lg-6">
               <h4>Subheading</h4>
               <p>Donec id elit non mi porta gravida at eget metus. Maecenas faucibus mollis interdum.</p>
               <h4>Subheading</h4>
               <p>Morbi leo risus, porta ac consectetur ac, vestibulum at eros. Cras mattis consectetur purus sit amet fermentum.</p>
               <h4>Subheading</h4>
               <p>Maecenas sed diam eget risus varius blandit sit amet non magna.</p>
            </div>
            <div class="col-lg-6">
               <h4>Subheading</h4>
               <p>Donec id elit non mi porta gravida at eget metus. Maecenas faucibus mollis interdum.</p>
               <h4>Subheading</h4>
               <p>Morbi leo risus, porta ac consectetur ac, vestibulum at eros. Cras mattis consectetur purus sit amet fermentum.</p>
               <h4>Subheading</h4>
               <p>Maecenas sed diam eget risus varius blandit sit amet non magna.</p>
            </div>
         </div>
         {% endif %}
         <div class="footer">
            <p>&copy; Database for BaselessData 2018</p>
         </div>
         <!-- Sign Up Modal -->
         <div class="modal fade" id="signUpModal" tabindex="-1" role="dialog" aria-labelledby="signUp" aria-hidden="true">
            <div class="modal-dialog" role="document">
               <div class="modal-content">
                  <div class="modal-header">
                     <h5 class="modal-title" id="exampleModalLabel">My Account</h5>
                     <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                     <span aria-hidden="true">&times;</span>
                     </button>
                  </div>

                  <form method='post' action='/signUp'>

                  <div class="modal-body">
                        <!-- Text input-->
                        <div class="control-group">
                           <label class="control-label" for="email">Email:</label>
                           <div class="controls">
                              <input required="" name="email" type="email" class="form-control" placeholder="Do_not@email.me" class="input-medium" required="">
                           </div>
                        </div>
                        <!-- Password input-->
                        <div class="control-group">
                           <label class="control-label" for="password">Password:</label>
                           <div class="controls">
                              <input required="" name="password" class="form-control" type="password" placeholder="VerySecret123" class="input-medium">
                           </div>
                        </div>
                  </div>
                  <div class="modal-footer">
                     <button type="button" class="btn btn-outline-secondary" data-dismiss="modal">Close</button>
                     <button type="submit" class="btn btn-outline-info">Sign Up/Sign In </button>
                  </div>
                  </form>
               </div>
            </div>
         </div>
         <!-- End of Modal -->
         </div> <!-- /container -->
         <!-- JavaScript 
         ================================================== -->
         <script type="text/javascript" src="http://code.jquery.com/jquery-latest.js"></script>
         <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/jquery-ui.js"></script>
         <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script> -->
         <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

         <script type="text/javascript">
         $(function() {
             $("#autocomplete").autocomplete({
                 source:function(request, response) {
                     $.getJSON("{{url_for('autocomplete')}}",{
                         q_course: request.term, 
                     }, function(data) {
                         response(data.matching_courses); 
                     });
                 },
                 minLength: 2,
                 select: function(event, ui) {
                     console.log(ui.item.value); 
                 }
             });
         })
         </script>

      </body>
   </html>
